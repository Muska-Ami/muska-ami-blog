---
title: 红线：关于风雨阁Storm Pavilion的那些事（三）
date: 2024-05-12T14:49:12+08:00
tags:
    - 旧事重提
categories:
    - SPCraftMC
    - 红线
---
很久没提 SPCraftMC 了，现在主要提一下当前状况吧。

## 版本的迭代

### 从 1.0，到 2.0 Beta

老实说，给我印象最深的还是 1.0 ，因为那是最热闹的时候。
由于前面都讲了，这里就不再赘述了。

### 2.0 Alpha

这是 SPCraftMC 2.0 的起点。
SPCraftMC 2.0 Alpha 是基于 1.0 进行改造的。因此把 1.0 的核心继承下来了。
2.0 Alpha 我们实验性的加入了 粘液科技 ，这为游戏加入了许多玩法，尽管 粘液科技 并没有被沿用到下一个版本，但它对 2.0 的迭代有着极大的影响。

##### 浅谈粘液科技

其实我觉得这个插件是非常好的。它弥补了插件端不能添加 Mod 的缺陷（混合端邪教不考虑），同时保留了插件端优秀的性能，还同时扩展了游戏的玩法。
但它有一个缺点：默认的设定值难度过高，不适合养老。对于 SPCraftMC 大部分人来说，其实并不适合。这是实验后得出的结论。

还有一个就是汉化版和官方版并不是一个本体，且数据也不完全通用，这对于维护者并不友好。
出于这样的顾虑，下个版本我们移除了粘液科技。

##### 插曲

本以为一切都会如愿以偿，但谁又料想意外总是来得出其不意呢？
在2023年也就是去年，SPCraftMC 当时还在采用香港服务器作为核心服务。由于服务器物理损坏（主板坏了），导致 SPCraftMC 服务器停止运营近半月，期间，我们无法联系到服务商获取数据，这对我来说算是一个不小的打击。当时服务器已有半个月未备份，也就是说备份数据不足以恢复 SPCraftMC 全貌。
好在服务商后来主动联系了我，取回了数据。本以为服务商要跑路了，但其实还算负责。这里也要感谢这个不知名服务商为我们提供高性能服务器，不过由于服务器是 HKBN （香港商宽）的网络，回国丢包和晚高峰对游戏服务不友好，所以后来迁移到国内了。

#### 2.0 Beta

Beta 应该是到目前为止跨度最大的一个版本。
在 Beta 版本，我们完成了从单端转向分布式多端联动的方案。这里要感谢 LoCyan-Team ，为我们提供了一台免费的 8C8G 国内服务器，以及 7.5折 的 4C16G 国内服务器，作为我们的核心服务承载。
有需要的可以去看看他们的服务器，截至本文撰写之日， LoCyan-Team 还处在亏损状态，因为要运营纯公益项目 LoCyanFrp 。
LoCyanCloud 下单地址： <https://console.cloud.locyan.cn/cart> 。
此外，在 Beta 运营期间我还认识了很多朋友，这里要特别感谢 @烟墨 ，对于 SPCraftMC 运营提供了大量支持，包括 SPCraftMC 海外加速及 SPCraftMC 国内 Velocity 服务器提供。他还曾为 SPCraftMC 提供数据库服务（目前我们采用自家的 香港数据库 作为数据存储），为 2.0 Beta 版本的测试提供了许多帮助。

#### 关于代号：云之域

这个代号其实听着有那么些中二，但不妨碍我想让这个服务器运作一生的愿望实现。
关于云之域的最初设计稿已丢失，但不变的期盼仍然支撑着我运营这个服务器。
到目前为止， SPCraftMC 的版本代号仍然是云之域，这是 2.0 最开始的地方。

2.0-beta 还有一个版本号，那就是 云之域 0.1.0-alpha 。

#### 2.0 的诞生

2.0 是 SPCraftMC 的现任版本，是基于 2.0 Alpha 和 2.0 Beta 综合考虑重置的一个版本。

##### 意外的更新

本来我们可以一直维护在 2.0 Beta ，但由于服务器离线时间过长且当时认为无法取回数据，我们重新从零开始做了一个客户端，这就是 SPCraftMC 2.0 。
2.0 作为现役版本，我们做了很多优化，包括网络连接和硬件方面的优化。
首先我们把服务器从江苏镇江迁移到了湖北武汉，旧的服务器是超开的，且不支持安装 Linux 系统，所以性能并不友好。正好服务商自营武汉服务器恢复，我们和服务商联系，将服务器迁移到了武汉，服务商为我们提供了更大的磁盘和更高的带宽，CPU也从超开的 Gold 6133 换到 E5 2666-v3 ，同时更换为 Linux 系统，为服务端腾出了不少运行内存。
然后，我们通过分布式部署 Velocity 和其他流量转发，优化了整个亚太地区的连接延迟。后面我们又接入了 Cloudflare Spectrum ，向全球范围提供加速。
我们还把数据库从 SQLite 更换到 MariaDB ，并使用 Redis 作为缓存，优化数据库操作。

2.0 还有很长的路要走，这一切离不开朋友们的支持与陪伴。
